-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")

-- Player
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- UI Enhancements
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.45, 0, 0.22, 0) -- Larger for better visibility
frame.Position = UDim2.new(0.275, 0, 0.001, 0) -- Pushed to the very top
frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
frame.BackgroundTransparency = 0.02 -- Ultra-glass effect
frame.BorderSizePixel = 0
frame.Parent = screenGui
frame.ClipsDescendants = true

-- Glass Effect (Blur)
local blurEffect = Instance.new("UIStroke")
blurEffect.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
blurEffect.Thickness = 8
blurEffect.Transparency = 0.15
blurEffect.Color = Color3.fromRGB(255, 255, 255)
blurEffect.Parent = frame

-- Rounded Corners with Shadow Effect
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.5, 0)
uiCorner.Parent = frame

local shadow = Instance.new("ImageLabel")
shadow.Size = UDim2.new(1.4, 0, 1.4, 0)
shadow.Position = UDim2.new(-0.2, 0, -0.2, 0)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.5
shadow.Parent = frame

-- Title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0.2, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 223, 0)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.GothamBlack
titleLabel.Text = "üåü Supreme Fruit Notifier üåü"
titleLabel.Parent = frame

-- Fruit Info Label
local fruitLabel = Instance.new("TextLabel")
fruitLabel.Size = UDim2.new(1, -10, 0.75, 0)
fruitLabel.Position = UDim2.new(0, 5, 0.22, 0)
fruitLabel.BackgroundTransparency = 1
fruitLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
fruitLabel.TextScaled = true
fruitLabel.Font = Enum.Font.GothamMedium
fruitLabel.Text = "üîç Searching for fruits..."
fruitLabel.TextWrapped = true
fruitLabel.Parent = frame

-- Animated Neon Glow Effect
local glow = Instance.new("UIStroke")
glow.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
glow.Thickness = 6
glow.Color = Color3.fromRGB(0, 255, 255)
glow.Parent = frame

-- Smooth Appearance Animation
frame.BackgroundTransparency = 1
titleLabel.TextTransparency = 1
fruitLabel.TextTransparency = 1
glow.Transparency = 1

local fadeIn = TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {BackgroundTransparency = 0.02})
local fadeInTitle = TweenService:Create(titleLabel, TweenInfo.new(0.5, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {TextTransparency = 0})
local fadeInFruitLabel = TweenService:Create(fruitLabel, TweenInfo.new(0.5, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {TextTransparency = 0})
local fadeInGlow = TweenService:Create(glow, TweenInfo.new(0.5, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {Transparency = 0})

fadeIn:Play()
fadeInTitle:Play()
fadeInFruitLabel:Play()
fadeInGlow:Play()

-- Fruit Finding Function
local fruitsList = {"Rocket Fruit", "Spin Fruit", "Ghost Fruit", "Spring Fruit", "Bomb Fruit", "Spike Fruit", "Smoke Fruit", "Blade Fruit", "Sand Fruit", "Ice Fruit", "Dark Fruit", "Diamond Fruit", "Light Fruit", "Rubber Fruit", "Barrier Fruit", "Magma Fruit", "Phoenix Fruit", "Love Fruit", "Spider Fruit", "Sound Fruit", "Buddha Fruit", "Quake Fruit", "Gravity Fruit", "Control Fruit", "T-Rex Fruit", "Mammoth Fruit", "Spirit Fruit", "Venom Fruit", "Shadow Fruit", "Rumble Fruit", "Portal Fruit", "Blizzard Fruit", "Dragon Fruit", "Leopard Fruit", "Dough Fruit", "Dragon (West) Fruit", "Dragon (East) Fruit", "Kitsune Fruit", "Gas Fruit", "Flame Fruit", "Yeti Fruit"}

local function findNearestFruit()
    local nearestFruit = nil
    local minDistance = math.huge
    local fruitCount = 0

    for _, fruit in ipairs(Workspace:GetChildren()) do
        if table.find(fruitsList, fruit.Name) and fruit:FindFirstChild("Handle") then
            local distance = (humanoidRootPart.Position - fruit.Handle.Position).Magnitude
            fruitCount = fruitCount + 1

            if distance < minDistance then
                minDistance = distance
                nearestFruit = fruit
            end
        end
    end
    return nearestFruit, minDistance, fruitCount
end

-- UI Update Loop
spawn(function()
    while true do
        local nearestFruit, distance, fruitCount = findNearestFruit()
        
        if nearestFruit then
            fruitLabel.Text = string.format("üçé Nearest: %s\nüö© Distance: %dm\n‚ö° Fruits Nearby: %d", nearestFruit.Name, math.floor(distance), fruitCount)
            
            -- Animated UI glow color based on fruit count
            local newColor = fruitCount >= 3 and Color3.fromRGB(0, 255, 0) or fruitCount == 2 and Color3.fromRGB(255, 255, 0) or Color3.fromRGB(255, 0, 0)
            TweenService:Create(glow, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.InOut), {Color = newColor}):Play()
        else
            fruitLabel.Text = "‚ùå No fruits found"
            glow.Color = Color3.fromRGB(255, 170, 0)
        end

        task.wait(0.05)
    end
end)
